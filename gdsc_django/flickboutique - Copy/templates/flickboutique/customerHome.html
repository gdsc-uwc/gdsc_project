{% extends "flickboutique/layout.html" %}
{% load static %}

{% block body %}

    <main>

        <div class="p-5 bg-secondary text-white">
            <h1>Welcome {% if request.user.last_login %}back, {% endif %}{% if request.user.username %}{{ request.user.first_name }}{% endif %}!</h1>
        </div>

        {% block nav %}{{ block.super }}{% endblock %}

        <div id="feedContainer" class="container my-2">

            <div class="row">
                {% for product in products %}
                <div class="col-md-2">
                    <a class="productCard card m-2" href="{% url 'flickboutique:productPage' productURL=product.productURL %}">
                        <div class="card-header">{{ product.productName }}</div>
                        <div class="cardImage"><img class="card-img-top" src="{{ product.productImage.url }}"></div>
                        <div class="card-body">{{ product.productInformation }}</div>
                        <div class="card-footer">R{{ product.productPrice|floatformat:2 }}</div>
                    </a>
                </div>
                {% empty %}
                <h1 class="container">There are no products available.</h1>
                {% endfor %}
            </div>

        </div>

    </main>

{% endblock %}